{
  "prePhase0Commit": {
    "hash": "f136b6ca5e5191759f973457277d95275b141456",
    "date": "2026-01-27",
    "message": "docs: Actualizar progreso - Phase 5 completada y mergeada a main"
  },
  "currentCommit": "b0a9a8e434dda3d7e562b14c30e5f2b1c0de8aac",
  "comparison": {
    "deleted": [],
    "modified": [],
    "new": [
      "docs/NEXT_STEPS_TESTING.md",
      "docs/SISTEMA_COMPLETO_DOCUMENTACION.md",
      "docs/TESTING_INTEGRATION_AUTH_FIX.md",
      "migration-instructions.txt",
      "scripts/apply-migrations-simple.js",
      "scripts/apply-multitenancy-migrations-direct.js",
      "scripts/apply-multitenancy-migrations.js",
      "src/__tests__/integration/api/customers.test.ts",
      "src/__tests__/integration/api/orders.test.ts",
      "src/__tests__/integration/api/products.test.ts",
      "src/__tests__/integration/helpers/test-setup.ts",
      "src/app/api/admin/organization/limits/route.ts",
      "src/lib/saas/tier-config.ts",
      "src/lib/saas/tier-validator.ts",
      "supabase/migrations/20260128000000_create_organizations_and_subscriptions.sql",
      "supabase/migrations/20260128000001_extend_rls_for_multitenancy.sql"
    ],
    "unchanged": [
      "src/app/admin/customers/[id]/edit/page.tsx",
      "src/app/admin/customers/[id]/page.tsx",
      "src/app/admin/customers/new/page.tsx",
      "src/app/admin/customers/page.tsx",
      "src/app/admin/customers/page.tsx.save",
      "src/app/admin/pos/page.tsx",
      "src/app/admin/products/[slug]/page.tsx",
      "src/app/admin/products/add/page.tsx",
      "src/app/admin/products/bulk/page.tsx",
      "src/app/admin/products/components/ProductActions.tsx",
      "src/app/admin/products/components/ProductFilters.tsx",
      "src/app/admin/products/components/ProductGrid.tsx",
      "src/app/admin/products/components/ProductList.tsx",
      "src/app/admin/products/components/ProductPagination.tsx",
      "src/app/admin/products/components/ProductStats.tsx",
      "src/app/admin/products/components/ProductTable.tsx",
      "src/app/admin/products/components/QuickActions.tsx",
      "src/app/admin/products/edit/[id]/page.tsx",
      "src/app/admin/products/hooks/useCategories.ts",
      "src/app/admin/products/hooks/useProductFilters.ts",
      "src/app/admin/products/hooks/useProductStats.ts",
      "src/app/admin/products/hooks/useProducts.ts",
      "src/app/admin/products/options/page.tsx",
      "src/app/admin/products/page.backup.tsx",
      "src/app/admin/products/page.refactored.tsx",
      "src/app/admin/products/page.tsx",
      "src/app/admin/quotes/[id]/page.tsx",
      "src/app/admin/quotes/page.tsx",
      "src/app/admin/quotes/settings/page.tsx",
      "src/app/admin/work-orders/[id]/page.tsx",
      "src/app/admin/work-orders/page.tsx",
      "src/app/api/admin/admin-users/[id]/branch-access/route.ts",
      "src/app/api/admin/admin-users/[id]/route.ts",
      "src/app/api/admin/admin-users/route.ts",
      "src/app/api/admin/analytics/dashboard/route.ts",
      "src/app/api/admin/appointments/[id]/route.ts",
      "src/app/api/admin/appointments/availability/route.ts",
      "src/app/api/admin/appointments/route.ts",
      "src/app/api/admin/branches/[id]/route.ts",
      "src/app/api/admin/branches/[id]/stats/route.ts",
      "src/app/api/admin/branches/global/stats/route.ts",
      "src/app/api/admin/branches/route.ts",
      "src/app/api/admin/cash-register/close/route.ts",
      "src/app/api/admin/cash-register/closures/[id]/route.ts",
      "src/app/api/admin/cash-register/closures/route.ts",
      "src/app/api/admin/chat/history/route.ts",
      "src/app/api/admin/chat/messages/route.ts",
      "src/app/api/admin/chat/providers/route.ts",
      "src/app/api/admin/chat/route.ts",
      "src/app/api/admin/chat/sessions/route.ts",
      "src/app/api/admin/chat/tools/route.ts",
      "src/app/api/admin/check-status/route.ts",
      "src/app/api/admin/customers/[id]/appointments/route.ts",
      "src/app/api/admin/customers/[id]/prescriptions/[prescriptionId]/route.ts",
      "src/app/api/admin/customers/[id]/prescriptions/route.ts",
      "src/app/api/admin/customers/[id]/route.ts",
      "src/app/api/admin/customers/route.ts",
      "src/app/api/admin/customers/search/route.ts",
      "src/app/api/admin/dashboard/route.ts",
      "src/app/api/admin/notifications/route.ts",
      "src/app/api/admin/notifications/settings/route.ts",
      "src/app/api/admin/orders/[id]/notify/route.ts",
      "src/app/api/admin/orders/[id]/route.ts",
      "src/app/api/admin/orders/route.ts",
      "src/app/api/admin/pos/process-sale/route.ts",
      "src/app/api/admin/product-options/[fieldKey]/route.ts",
      "src/app/api/admin/product-options/route.ts",
      "src/app/api/admin/products/[id]/route.ts",
      "src/app/api/admin/products/bulk/route.ts",
      "src/app/api/admin/products/import-json/route.ts",
      "src/app/api/admin/products/import-schema.json",
      "src/app/api/admin/products/import/route.ts",
      "src/app/api/admin/products/json-template/route.ts",
      "src/app/api/admin/products/route.ts",
      "src/app/api/admin/products/search/route.ts",
      "src/app/api/admin/products/template/route.ts",
      "src/app/api/admin/quote-settings/route.ts",
      "src/app/api/admin/quotes/[id]/convert/route.ts",
      "src/app/api/admin/quotes/[id]/route.ts",
      "src/app/api/admin/quotes/[id]/send/route.ts",
      "src/app/api/admin/quotes/[id]/status/route.ts",
      "src/app/api/admin/quotes/route.ts",
      "src/app/api/admin/schedule-settings/route.ts",
      "src/app/api/admin/support/categories/route.ts",
      "src/app/api/admin/support/templates/route.ts",
      "src/app/api/admin/support/tickets/[id]/messages/route.ts",
      "src/app/api/admin/support/tickets/[id]/route.ts",
      "src/app/api/admin/support/tickets/route.ts",
      "src/app/api/admin/system/backups/route.ts",
      "src/app/api/admin/system/config/route.ts",
      "src/app/api/admin/system/email-templates/[id]/route.ts",
      "src/app/api/admin/system/email-templates/[id]/test/route.ts",
      "src/app/api/admin/system/email-templates/route.ts",
      "src/app/api/admin/system/health/route.ts",
      "src/app/api/admin/system/maintenance/route.ts",
      "src/app/api/admin/system/migrate-notifications/route.ts",
      "src/app/api/admin/system/payments/test/route.ts",
      "src/app/api/admin/system/seo/config/route.ts",
      "src/app/api/admin/system/shipping/calculate/route.ts",
      "src/app/api/admin/system/shipping/carriers/route.ts",
      "src/app/api/admin/system/shipping/rates/[id]/route.ts",
      "src/app/api/admin/system/shipping/rates/route.ts",
      "src/app/api/admin/system/shipping/zones/[id]/route.ts",
      "src/app/api/admin/system/shipping/zones/route.ts",
      "src/app/api/admin/system/webhooks/status/route.ts",
      "src/app/api/admin/system/webhooks/test/route.ts",
      "src/app/api/admin/users/route.ts",
      "src/app/api/admin/users/search/route.ts",
      "src/app/api/admin/work-orders/[id]/route.ts",
      "src/app/api/admin/work-orders/[id]/status/route.ts",
      "src/app/api/admin/work-orders/route.ts",
      "src/components/admin/AdminNotificationDropdown.tsx",
      "src/components/admin/AppointmentCalendar.tsx",
      "src/components/admin/BranchAccessManager.tsx",
      "src/components/admin/BranchSelector.tsx",
      "src/components/admin/Chatbot.tsx",
      "src/components/admin/ChatbotContent.tsx",
      "src/components/admin/CreateAppointmentForm.tsx",
      "src/components/admin/CreateManualOrderForm.tsx",
      "src/components/admin/CreatePrescriptionForm.tsx",
      "src/components/admin/CreateQuoteForm.tsx",
      "src/components/admin/CreateWorkOrderForm.tsx",
      "src/components/admin/CreateWorkOrderForm.tsx.old",
      "src/components/admin/CreateWorkOrderForm/CustomerSelector.tsx",
      "src/components/admin/CreateWorkOrderForm/FrameSelector.tsx",
      "src/components/admin/CreateWorkOrderForm/LabInfoSection.tsx",
      "src/components/admin/CreateWorkOrderForm/LensConfiguration.tsx",
      "src/components/admin/CreateWorkOrderForm/NotesSection.tsx",
      "src/components/admin/CreateWorkOrderForm/PrescriptionSelector.tsx",
      "src/components/admin/CreateWorkOrderForm/PricingSection.tsx",
      "src/components/admin/CreateWorkOrderForm/StatusSection.tsx",
      "src/components/admin/CreateWorkOrderForm/hooks/useWorkOrderCalculations.ts",
      "src/components/admin/CreateWorkOrderForm/hooks/useWorkOrderForm.ts",
      "src/components/admin/CreateWorkOrderForm/hooks/useWorkOrderValidation.ts",
      "src/components/admin/CreateWorkOrderForm/index.tsx",
      "src/components/admin/DashboardSearch.tsx",
      "src/components/admin/EmailTemplateEditor.tsx",
      "src/components/admin/EmailTemplatesManager.tsx",
      "src/components/admin/HelpDialog.tsx",
      "src/components/admin/NotificationSettings.tsx",
      "src/components/admin/PaymentConfig.tsx",
      "src/components/admin/PermissionsEditor.tsx",
      "src/components/admin/SEOManager.tsx",
      "src/components/admin/ShippingManager.tsx",
      "src/components/admin/WebhookMonitor.tsx",
      "src/components/admin/charts/AreaChart.tsx",
      "src/components/admin/charts/BarChart.tsx",
      "src/components/admin/charts/ColumnChart.tsx",
      "src/components/admin/charts/LineChart.tsx",
      "src/components/admin/charts/PieChart.tsx",
      "src/components/admin/chat/ChatHeader.tsx",
      "src/components/admin/chat/ChatHistorySidebar.tsx",
      "src/components/admin/chat/ChatInput.tsx",
      "src/components/admin/chat/ExportDialog.tsx",
      "src/components/admin/chat/MessageBubble.tsx",
      "src/components/admin/chat/MessageList.tsx",
      "src/components/admin/chat/ProviderSelector.tsx",
      "src/components/admin/chat/SettingsPanel.tsx",
      "src/components/admin/chat/ToolBrowser.tsx",
      "src/components/admin/chat/ToolCallDisplay.tsx",
      "src/components/admin/chat/TypingIndicator.tsx",
      "src/hooks/useAuth.ts",
      "src/hooks/useBranch.ts",
      "src/hooks/useChatConfig.ts",
      "src/hooks/useChatSession.ts",
      "src/hooks/useFileUpload.ts",
      "src/hooks/useFormProtection.ts",
      "src/hooks/useProductOptions.ts",
      "src/lib/api/branch-middleware.ts",
      "src/lib/api/errors.ts",
      "src/lib/api/middleware.ts",
      "src/lib/api/validation.ts",
      "src/lib/api/validation/zod-helpers.ts",
      "src/lib/api/validation/zod-schemas.ts"
    ]
  },
  "categorized": {
    "toRecover": 0,
    "toPreserve": 0,
    "toReview": 0
  },
  "timestamp": "2026-01-27T16:41:20.278Z"
}
